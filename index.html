<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>魚皮購物</title>
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="shortcut icon"
      href="./icon/Favorite_Iocn.png"
      type="image/x-icon"
    />
    <!-- Vue -->
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>

    <!-- Bootstrap CSS CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- 圖片輪播開始 -->
    <div
      id="carouselExampleSlidesOnly"
      class="carousel slide"
      data-bs-ride="carousel"
    >
      <div class="carousel-inner">
        <div class="carousel-item active">
          <a href="./shopping4.html" target="" rel="noopener noreferrer">
            <img src="./products/1.jpg" class="d-block w-100" />
          </a>
        </div>
        <!-- <div class="carousel-item">
            <a href="./shopping5.html" target="_blank" rel="noopener noreferrer">
              <img src="./products/2.jpg" class="d-block w-100" />
            </a>
          </div> -->
        <div class="carousel-item">
          <a href="./shopping3.html" target="" rel="noopener noreferrer">
            <img src="./products/3.jpg" class="d-block w-100" />
          </a>
        </div>
      </div>
    </div>

    <!-- 圖片輪播結束 -->

    <!-- --------------------- -->
    <div class="Jiugongge">
      <!-- <script>
        function resizeIframe(obj) {
          obj.style.height =
            obj.contentWindow.document.documentElement.scrollHeight + "px";
        }
      </script> -->
      <iframe src="./product-template.html" style="border: none"></iframe>
      <!-- //方法2(測試失敗)
  <div class="container my-4">
    <div class="row" id="product-container">
      產品卡片將會動態載入到這裡
    </div>
  </div>
  </div> -->
    </div>

    <!-- --------------------- -->
    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner2">
        <div class="carousel-item active">
          <div class="d-flex">
            <div class="col-md-4">
              <div class="card text-white bg-warning mb-3">
                <!-- 這張卡片將會有一個黃色的背景，並且文字顏色為白色 -->
                <div class="card-body">
                  <img src="./shop_photo/1.jpg" class="img-fluid" />
                  <h5 class="card-title">永恆經典，持續創新</h5>
                  <p class="card-text">
                    兩款IKEA最具代表性的商品再進化，重現讓人難忘的經典面貌！
                  </p>
                  <a href="./shopping1.html" class="btn btn-light">了解更多</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card text-white bg-secondary mb-3">
                <!-- 卡片區域，背景為灰色，文字為白色 -->
                <div class="card-body">
                  <img src="./shop_photo/2_1.jpg" class="img-fluid" />
                  <h5 class="card-title">降溫好入眠 涼感床組上市</h5>
                  <p class="card-text">
                    打造睡眠好品質很重要，快來搭配你的專屬涼感床組，帶來好精神與好心情！
                  </p>
                  <a href="#" class="btn btn-light">了解更多</a>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card text-white bg-dark mb-3">
                <!-- 卡片區域，背景為黑色，文字為白色 -->
                <div class="card-body">
                  <img src="./shop_photo/3.jpg" class="img-fluid" />
                  <h5 class="card-title">辦公家具全面升級 重磅登場</h5>
                  <p class="card-text">
                    更靈活的升降桌、折疊桌及收納方案，輕鬆打造舒適空間，讓工作事半功倍！
                  </p>
                  <a href="./shopping2.html" class="btn btn-light">了解更多</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- 容器結束 -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
  </body>
  <script>
    // 動態加載導航列的內容
    // 這段代碼的目的是使用 fetch API 動態地從 'navbar.html' 文件中加載導航列內容，
    // 並將其插入到當前頁面的最上方。

    // 使用 fetch 函數發送一個請求來獲取 'navbar.html' 文件的內容
    fetch("./navbar.html")
      // 當請求完成並得到響應時，fetch 會返回一個 Promise 對象。
      // 這裡的 then 方法用來處理成功獲取到的響應數據。
      .then((response) => response.text())
      // response.text() 會將響應的內容轉換為文本（通常是 HTML 結構），
      // 並返回一個 Promise，該 Promise 解析後會提供文本數據。
      .then((data) => {
        // 在這個 then 回調函數中，我們拿到了 'navbar.html' 的內容，現在要將它插入到頁面中。

        // 使用 document.body.insertAdjacentHTML() 方法將獲取的 HTML 代碼插入到當前頁面中
        // 'afterbegin' 表示插入到 body 標籤內的最開始位置，即其他內容之前。
        document.body.insertAdjacentHTML("afterbegin", data);

        // 確保導航列加載完成後再執行 Search.js 的代碼
        // 這裡我們創建了一個新的 <script> 元素來動態地加載 Search.js。
        // 原因是如果 Search.js 在導航列（navbar.html）尚未加載到 DOM 中就執行，
        // 那麼 Search.js 會找不到需要綁定事件的元素（例如搜尋表單）。

        // 創建一個 <script> 標籤
        const script = document.createElement("script");

        // 設置這個 script 元素的 src 屬性，讓它指向我們的 Search.js 文件
        script.src = "./Search.js";

        // 將這個 script 元素添加到 body 標籤的末尾
        // 這樣 Search.js 會在導航列加載後執行，確保所有元素都已存在於 DOM 中。
        document.body.appendChild(script);

        const isLoggedIn = sessionStorage.getItem("isLoggedIn");
        const loginTextElement = document.getElementById("login_text");
        if (isLoggedIn === "true") {
          login_text.innerHTML = '<a href="./index.html">登出</a>';

          loginTextElement.onclick = function () {
            sessionStorage.setItem("isLoggedIn", "false");
            // 建立一個function，點擊事件處理器，點擊「登出」時，將登入狀態設置為 false
          };
        } else {
          login_text.innerHTML = '<a href="./login.html">登入</a>';
        }
      });
  </script>
</html>
